<?xml version="1.0"?>
<odoo>
	<data>
		<record id="gyneco_pregnancy_action" model="ir.actions.act_window">
			<field name="name">Gynecology</field>
			<field name="res_model">medical.patient.pregnancy</field>
			<field name="view_mode">tree,form</field>
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">
					No patient registered
				</p>
				<p>
					You can add some pregnancy patient
				</p>
			</field>
		</record>
		<!-- Patient Pregnancies -->
		<record model="ir.ui.view" id="medical_patient_pregnancy_view">
			<field name="name">medical_patient_pregnancy</field>
			<field name="model">medical.patient.pregnancy</field>
			<field name="arch" type="xml">
				<form>
					<group colspan="4">
						<field name="name" />
						<field name="computed_age" />
						<field name="lmp" />
						<field name="institution" />
					</group>
					<newline/>
					<notebook>
						<page name="general_info" string="General Info">
							<group>
								<group string="General">
									<field name="gravida" />
									<field name="warning" />
									<field name="warning_icon" />
									<field name="reverse"
										attrs="{'invisible': [('current_pregnancy','=', True)]}"/>
									<field name="reverse_weeks" 
										attrs="{'invisible': [('reverse','=', False)], 'required': [('reverse','=', True)]}"/>
									<field name="pdd" />
								</group>
								<group string="Pregnancy Info" name="pregnancy_info">
									<field name="current_pregnancy" />
									<field name="fetuses" />
									<field name="monozygotic"/>
									<field name="pregnancy_end_result"
										attrs="{'invisible': [('current_pregnancy','=', True)], 'required': [('current_pregnancy','=', False)]}"/>
									<field name="pregnancy_end_date"
										attrs="{'invisible': [('current_pregnancy','=', True)], 'required': [('current_pregnancy','=', False)]}"/>
									<field name="pregnancy_end_age" />
									<field name="bba" 
										attrs="{'invisible': [('current_pregnancy','=', True)]}"/>
									<field name="home_birth" 
										attrs="{'invisible': [('current_pregnancy','=', True)]}"/>
									<field name="iugr" />
								</group>
								<group string="Resumed Info" name="resumed_info">
									<field name="gravidae"/>
									<field name="premature"/>
									<field name="abortions"/>
									<field name="stillbirths"/>
								</group>
								<group string="Blood Info" name="blood_info">
									<field name="blood_type"/>
									<field name="rh"/>
									<field name="hb"/>
								</group>
							</group>
						</page>
						<page name="prenatal_evaluations" string="Prenatal Evaluations">
							<field name="prenatal_evaluations" colspan="4" />
						</page>
						<page name="perinatal" string="Perinatal Info">
							<field name="perinatal" colspan="4" />
						</page>
						<page name="puerperium_monitor" string="Puerperium Monitor">
							<field name="puerperium_monitor" colspan="4" />
						</page>
					</notebook>
				</form>
			</field>
		</record>
		<record model="ir.ui.view" id="medical_patient_pregnancy_tree">
			<field name="name">medical_patient_pregnancy_tree</field>
			<field name="model">medical.patient.pregnancy</field>
			<field name="arch" type="xml">
                <tree>
                    <field name="name"/>
					<field name="computed_age"/>
					<field name="fetuses" />
                </tree>
            </field>
		</record>
		<!-- Menu entry for Obstetrics histories -->
		<!--
		<record model="ir.action.act_window" id="act_pregnancy_form">
		<field name="name">Obstetric Histories
		</field>
		<field name="model">
		medical.patient.pregnancy
		</field>

			<field name="arch" type="xml">
			</field>
		</record>
		<menuitem name="Obstetrics" id="medical_obstetrics" icon="medical-obstetrics" parent="health.medical_menu" sequence="65" />
		<menuitem action="act_pregnancy_form" id="medical_patient_pregnancy" icon="medical-list" parent="medical_obstetrics" />
		<record model="ir.action.act_window.view" id="act_patient_pregnancy_list_view">
		<field name="sequence" eval="10" />
		<field name="view" ref="medical_patient_pregnancy_tree" />
		<field name="act_window" ref="act_pregnancy_form" />
		</record>
		<record model="ir.action.act_window.view" id="act_patient_pregnancy_form_view">
		<field name="sequence" eval="20" />
		<field name="view" ref="medical_patient_pregnancy_view" />
		<field name="act_window" ref="act_pregnancy_form" />

			<field name="arch" type="xml">
			</field>
		</record>
		-->
		<!-- Shortcut to the Patient Pregnancies -->
		<!--
		<record model="ir.action.act_window" id="act_pregnancy_form1">
		<field name="name">
		Obstetric History
		</field>
		<field name="model">
		medical.patient.pregnancy
		</field>
		<field name="domain" eval="[('name', '=', Eval('active_id'))]" pyson="1" />

			<field name="arch" type="xml">
			</field>
		</record>
		<record model="ir.action.keyword" id="act_open_pregnancy_keyword1">
		<field name="keyword">
		form_relate
		</field>
		<field name="model">
		medical.patient,-1
		</field>
		<field name="action" ref="act_pregnancy_form1" />
		</record>
		-->
		<!-- PRENATAL Evaluation -->
		<!--
		<record model="ir.ui.view" id="medical_prenatal_evaluation_view">
		<field name="model">
		medical.patient.prenatal.evaluation
		</field>
		<field name="view_mode">
		form
		</field>
		<field name="name">
		medical_prenatal_evaluation
		</field>

			<field name="arch" type="xml">
			</field>
		</record>
		<record model="ir.ui.view" id="medical_prenatal_evaluation_tree">
		<field name="model">
		medical.patient.prenatal.evaluation
		</field>
		<field name="view_mode">
		tree
		</field>
		<field name="name">
		medical_prenatal_evaluation_tree
		</field>

			<field name="arch" type="xml">
			</field>
		</record>
		-->
		<!-- Perinatal -->
		<!--
		<record model="ir.ui.view" id="medical_perinatal_view">
		<field name="model">
		medical.perinatal
		</field>
		<field name="view_mode">
		form
		</field>
		<field name="name">
		medical_perinatal
		</field>

			<field name="arch" type="xml">
			</field>
		</record>
		<record model="ir.ui.view" id="medical_perinatal_tree">
		<field name="model">
		medical.perinatal
		</field>
		<field name="view_mode">
		tree
		</field>
		<field name="name">
		medical_perinatal_tree
		</field>

			<field name="arch" type="xml">
			</field>
		</record>
		-->
		<!-- Puerperium -->
		<!--
		<record model="ir.ui.view" id="medical_puerperium_monitor_view">
		<field name="model">
		medical.puerperium.monitor
		</field>
		<field name="view_mode">
		form
		</field>
		<field name="name">
		medical_puerperium_monitor
		</field>
		</record>
		<record model="ir.ui.view" id="medical_puerperium_monitor_tree">
		<field name="model">
		medical.puerperium.monitor
		</field>
		<field name="view_mode">
		tree
		</field>
		<field name="name">
		medical_puerperium_monitor_tree
		</field>

			<field name="arch" type="xml">
			</field>
		</record>
		-->
		<!-- Perinatal Monitoring -->
		<!--
		<record model="ir.ui.view" id="medical_perinatal_monitor_view">
		<field name="model">
		medical.perinatal.monitor
		</field>
		<field name="view_mode">
		form
		</field>
		<field name="name">
		medical_perinatal_monitor
		</field>

			<field name="arch" type="xml">
			</field>
		</record>
		<record model="ir.ui.view" id="medical_perinatal_monitor_tree">
		<field name="model">
		medical.perinatal.monitor
		</field>
		<field name="view_mode">
		tree
		</field>
		<field name="name">
		medical_perinatal_monitor_tree
		</field>

			<field name="arch" type="xml">
			</field>
		</record>
		-->
		<!-- Menstrual history information -->
		<!--
		<record model="ir.ui.view" id="medical_menstrual_history_view">
		<field name="model">
		medical.patient.menstrual_history
		</field>
		<field name="view_mode">
		form
		</field>
		<field name="name">
		medical_menstrual_history
		</field>

			<field name="arch" type="xml">
			</field>
		</record>
		<record model="ir.ui.view" id="medical_menstrual_history_tree">
		<field name="model">
		medical.patient.menstrual_history
		</field>
		<field name="view_mode">
		tree
		</field>
		<field name="name">
		medical_menstrual_history_tree
		</field>

			<field name="arch" type="xml">
			</field>
		</record>
		-->
		<!-- PAP history information -->
		<!--
		<record model="ir.ui.view" id="medical_pap_history_view">
		<field name="model">
		medical.patient.pap_history
		</field>
		<field name="view_mode">
		form
		</field>
		<field name="name">
		medical_pap_history
		</field>
		</record>
		<record model="ir.ui.view" id="medical_pap_history_tree">
		<field name="model">
		medical.patient.pap_history
		</field>
		<field name="view_mode">
		tree
		</field>
		<field name="name">
		medical_pap_history_tree
		</field>

			<field name="arch" type="xml">
			</field>
		</record>
		-->
		<!-- Mammography history information -->
		<!--
		<record model="ir.ui.view" id="medical_mammography_history_view">
		<field name="model">
		medical.patient.mammography_history
		</field>
		<field name="view_mode">
		form
		</field>
		<field name="name">
		medical_mammography_history
		</field>

			<field name="arch" type="xml">
			</field>
		</record>
		<record model="ir.ui.view" id="medical_mammography_history_tree">
		<field name="model">
		medical.patient.mammography_history
		</field>
		<field name="view_mode">
		tree
		</field>
		<field name="name">
		medical_mammography_history_tree
		</field>

			<field name="arch" type="xml">
			</field>
		</record>
		-->
		<!-- Colposcopy history information -->
		<record model="ir.ui.view" id="medical_colposcopy_history_view">
			<field name="model">medical.patient.colposcopy_history</field>
			<field name="name">medical_colposcopy_history</field>
			<field name="arch" type="xml">
				<form string="Colonoscopy">
					<sheet>
					<notebook>
						<page name="general_info" string="General Info">
							<group>
								<field name="name" />
								<field name="evaluation_date" />
								<field name="last_colposcopy" />
								<field name="result" />
								<field name="institution" />
							</group>
						</page>
						<page name="evaluation" string="Evaluation">
							<field name="evaluation" />
						</page>
						<page name="comments" string="Remarks">
							<field name="comments" />
						</page>
					</notebook>
					</sheet>
				</form>
			</field>
		</record>
		<record model="ir.ui.view" id="medical_colposcopy_history_tree">
			<field name="model">medical.patient.colposcopy_history</field>
			<field name="name">medical_colposcopy_history_tree</field>
			<field name="arch" type="xml">
                <tree>
                    <field name="name"/>
					<field name="result" />
                </tree>
			</field>
		</record>
		<!-- Include the Gynecological and Obstetric pages into the Patient History -->
		<record model="ir.ui.view" id="medical_patient_view">
			<field name="name">medical_patient</field>
			<field name="model">medical.patient</field>
			<field name="inherit_id" ref="medical.medical_patient_view_form" />
			<field name="arch" type="xml">
                <xpath expr="//notebook" position="inside">
                    <page string="Ginecology"
                          attrs="{'invisible': [('gender','!=','female')]}">
						<notebook>
							<page name="gynecological_info" string="Gynecological Info">
								<group>
									<group string="General">
										<field name="currently_pregnant" />
										<field name="fertile" />
										<field name="menarche" 
											attrs="{'invisible': [('fertile','=', False)]}"/>
										<field name="menopausal" />
										<field name="menopause"  
											attrs="{'invisible': [('menopausal','=', False)]}"/>
										<field name="mammography" />
										<field name="mammography_last" 
											attrs="{'invisible': [('mammography','=', False)]}"/>
										<field name="breast_self_examination" />
										<field name="pap_test" />
										<field name="pap_test_last" 
											attrs="{'invisible': [('pap_test','=', False)]}"/>
										<field name="colposcopy" />
										<field name="colposcopy_last" 
											attrs="{'invisible': [('colposcopy','=', False)]}"/>
									</group>
									<group string="Resumed">
										<field name="gravida" />
										<field name="premature" />
										<field name="abortions" />
										<field name="stillbirths" />
										<field name="full_term" />
										<field name="gpa" />
										<field name="born_alive" />
										<field name="deaths_1st_week" />
										<field name="deaths_2nd_week" />
									</group>
								</group>
							</page>
							<page name="perinatal" string="Perinatal Info">
								<field name="perinatal" />
							</page>
							<page name="menstrual_history" string="Menstrual History">
								<field name="menstrual_history" />
							</page>
							<page name="mammography_history" string="Mammography History"
								attrs="{'invisible': [('mammography','=', False)]}">
								<field name="mammography_history" />
							</page>
							<page name="pap_history" string="PAP smear History"
								attrs="{'invisible': [('pap_test','=', False)]}">
								<field name="pap_history" />
							</page>
							<page name="colposcopy_history" string="Colposcopy History" 
								attrs="{'invisible': [('colposcopy','=', False)]}">
								<field name="colposcopy_history"
									context="{'default_name': id}"/>
							</page>
							<page name="pregnancy_history" string="Pregnancy History">
								<field name="pregnancy_history" />
							</page>
						</notebook>
                    </page>
                </xpath>
            </field>
		</record>
		<menuitem id="gyneco_root_menu" name="Gynecology" sequence="2" web_icon="medical_gyneco,static/description/icon.png" />
		<menuitem id="gyneco_menu" name="Ginecology" parent="gyneco_root_menu" action="gyneco_pregnancy_action" sequence="1" />
	</data>
</odoo>
